% Progress bars
\newprogressbar[name=Progress]{part1}
\newprogressbar[name=Progress]{part2}
\newprogressbar[name=Progress]{part3}
\newprogressbar[name=Progress]{part4}

\newprogressbar[name=Draft,cols=red,cole=green]{draft}
\newprogressbar[name=Draft review, cols=red,cole=green]{draftreview}
\newprogressbar[name=Writing, cols=red,cole=green]{writing}
\newprogressbar[name=Fab's review, cols=red,cole=green]{fabreview}
\newprogressbar[name=Peer review, cols=red,cole=green]{peerreview}
\newprogressbar[name=Rewriting, cols=red,cole=green]{rewriting}
\newprogressbar[name=Polishing, cols=red,cole=green]{polish}

\newcommand\inputprogress{
  \IfFileExists{progress}{%
    \input{progress}%
  }{%
    \ifx\currentssadir\undefined
      {\color{orange} No progress bar available for this chapter (searched in . 
      and command `currentssadir' is not defined).\\\bigskip}
    \else
    \IfFileExists{\ssaroot{\currentssadir/progress}}{
    \input{\ssaroot{\currentssadir/progress}}%
    }{%
      {
      \catcode`_=12
      \color{orange} No progress bar available for this chapter (directories 
      searched: . and \ssaroot{\currentssadir}).\\\bigskip}
    }
    \fi
  }
}


% Not sure what to do with these yet.
\newcommand{\chapterauthor}[1]{{\textbf{Author: #1}}}
\newcommand{\parteditor}[1]{{\textbf{Editor: #1}}}


% Simple commands
\newcommand{\TODO}[1]{{\textbf{TODO: #1}\\}}

% internal macro for chapter pages
\gdef\mychappagenum{0}

% Number of pages. Thanks to Florent Bouchez for this trick
\newcommand\numberofpages[1]{
  {% new group to make changes to \count0 local
  \ifnum\mychappagenum>0
   \applynumberofpages
  \fi
  \count0=\value{page}
  \advance\count0 by #1
  \xdef\mychappagenum{\the\count0}
  \message{^^JChapter should end at page \mychappagenum^^J}
  }
}

% internal command for chapter pages
\newcommand\applynumberofpages{{
  \ifnum\mychappagenum>0
   \ifnum\value{page}>\mychappagenum
   \count0=\value{page}
%%    \errmessage{Error: chapter should end before page {\mychappagenum}  but page
%%    counter is already at {\the\count0}.}
   \else
      \setcounter{page}{\mychappagenum}
      \xdef\mychappagenum{0}
   \fi
 \fi
 }}

% authors name in TOC
\newcommand\Author[1]{---(\emph{#1})}

%%%% /!\ FIX made by Fabrice to be able to compile  %%%%%%%%
\def\st{\textrm{s.t.}}
\def\J{{\cal J}}
\def\minus{\backslash}

%%%% Macros used by Das/Ramakrishna in
%%%% part1/alternative_ssa_construction_algorithms/

\newcommand {\edge}[1] {\stackrel{#1}{\rightarrow}}

\newlength{\identamt}
\setlength{\identamt}{1.0em}

\newcounter{linectr}
\def\x#1{\refstepcounter{linectr}\item\hspace*{#1\identamt}}
\def\xx#{\hspace*{\identamt}}

\newenvironment{code}{\begin{list}{\bf \arabic{linectr}:\hfill} %
{\itemsep=0pt \topsep=0pt \parsep=0pt \leftmargin=\labelwidth \labelsep=0pt}}%
{\end{list}}

%%%% end of Das/Ramakrishna macros

%%%% Proposed macros by F. Bouchez to unify notations
%%%% used in part4/register_allocation

\newcommand\phifun{$\phi$-function\xspace}
\newcommand\phifuns{$\phi$-functions\xspace}

%%%% end of F. Bouchez macros

%%% Used by code selection and array ssa chapter
\newcommand{\eg}{e.g.\xspace}
\newcommand{\ie}{i.e.\xspace}
%%%
