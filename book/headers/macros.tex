% Set the input path for a chapter

\makeatletter
\newcommand\inputpath[1]{
  \def\input@path{#1}
}
\makeatother


% Progress bars
\newprogressbar[name=Progress]{part1}
\newprogressbar[name=Progress]{part2}
\newprogressbar[name=Progress]{part3}
\newprogressbar[name=Progress]{part4}

\newprogressbar[name=Draft,cols=red,cole=green]{draft}
\newprogressbar[name=Draft review, cols=red,cole=green]{draftreview}
\newprogressbar[name=Writing, cols=red,cole=green]{writing}
\newprogressbar[name=Fab's review, cols=red,cole=green]{fabreview}
\newprogressbar[name=Peer review, cols=red,cole=green]{peerreview}
\newprogressbar[name=Rewriting, cols=red,cole=green]{rewriting}
\newprogressbar[name=Polishing, cols=red,cole=green]{polish}

\newcommand\inputprogress{
  \IfFileExists{progress}{%
    \input{progress}%
  }{%
    \ifx\currentssadir\undefined
      {\color{orange} No progress bar available for this chapter (searched in . 
      and command `currentssadir' is not defined).\\\bigskip}
    \else
    \IfFileExists{\ssaroot{\currentssadir/progress}}{
    \input{\ssaroot{\currentssadir/progress}}%
    }{%
      {
      \catcode`_=12
      \color{orange} No progress bar available for this chapter (directories 
      searched: . and \ssaroot{\currentssadir}).\\\bigskip}
    }
    \fi
  }
}


% Not sure what to do with these yet.
\newcommand{\chapterauthor}[1]{{\textbf{Author: #1}}}
\newcommand{\parteditor}[1]{{\textbf{Editor: #1}}}



%% Defines some environments

% Environment to typeset C code (uses listings)
\lstnewenvironment{ccode}{\lstset{language=C}}{}

\newenvironment{algorithmic}{
  \centerline{\color{red} Warning: package ``algorithmic'' is no longer used. Please use algorithm2e instead.}
  \message{LaTeX Warning: Package ``algorithmic'' is no longer used. Please use algorithm2e instead.}
  \verbatim
}{
  \endverbatim
}



% Simple commands
%\newcommand{\TODO}[1]{{\textbf{TODO: #1}\\}}
\newcommand{\todo}[1]{\marginpar{\footnotesize\color{red!50!black}TODO: #1}}
\let\TODO\todo

% internal macro for chapter pages
\gdef\mychappagenum{0}

% Number of pages. Thanks to Florent Bouchez for this trick
\newcommand\numberofpages[1]{
  {% new group to make changes to \count0 local
  \ifnum\mychappagenum>0
   \applynumberofpages
  \fi
  \count0=\value{page}
  \advance\count0 by #1
  \xdef\mychappagenum{\the\count0}
  \message{^^JChapter should end at page \mychappagenum^^J}
  }
}

% internal command for chapter pages
\newcommand\applynumberofpages{{
  \ifnum\mychappagenum>0
   \ifnum\value{page}>\mychappagenum
   \count0=\value{page}
%%    \errmessage{Error: chapter should end before page {\mychappagenum}  but page
%%    counter is already at {\the\count0}.}
   \else
      \setcounter{page}{\mychappagenum}
      \xdef\mychappagenum{0}
   \fi
 \fi
 }}

% authors name in TOC
\newcommand\Author[1]{--- (\emph{#1})}
\newcommand\andAuthor{\unskip, } % separate authors by \andAuthor in every chapter

%%%% /!\ FIX made by Fabrice to be able to compile  %%%%%%%%
\def\st{\textrm{s.t.}}
\def\J{{\cal J}}
\def\minus{\backslash}

%%%% Macros used by Das/Ramakrishna in
%%%% part1/alternative_ssa_construction_algorithms/

%\newcommand {\edge}[1] {\stackrel{#1}{\rightarrow}}
\newcommand{\edge}[1]{\;\ooalign{$\rightarrow$\cr\hfil\raisebox{.8ex}{\footnotesize $#1$}\hfil}\;}

\newlength{\identamt}
\setlength{\identamt}{1.0em}

\newcounter{linectr}
\def\x#1{\refstepcounter{linectr}\item\hspace*{#1\identamt}}
\def\xx#{\hspace*{\identamt}}

\newenvironment{code}{\begin{list}{\bf \arabic{linectr}:\hfill} %
{\itemsep=0pt \topsep=0pt \parsep=0pt \leftmargin=\labelwidth \labelsep=0pt}}%
{\end{list}}

%%%% end of Das/Ramakrishna macros

%%%% Proposed macros by F. Bouchez to unify notations
%%%% used in part4/register_allocation


%%%% end of F. Bouchez macros

%%% Used by code selection and array ssa chapter
\newcommand{\eg}{e.g.,\xspace}
\newcommand{\ie}{i.e.,\xspace}
%%%

\SetKw{Let}{let\ }

%%% Fabrice's macros
\newcommand{\GVN}[1]{\textrm{H}(#1)}
\newcommand{\join}{{\cal J}}
\newcommand{\DF}{\textrm{DF}}
\newcommand{\iDF}{\mbox{$\textrm{DF}^+$}}
\newcommand{\undef}{\bot}
\newcommand{\bottom}{\bot}
\newcommand\cond{~?~}
\newcommand{\nonnull}{\cancel{0}}
\newcommand\var[1]{\textit{#1}}
\newcommand{\web[1]}{\textrm{SSAweb}(#1)}
\newcommand{\defsv}{D_v}
\newcommand\phifun{$\phi$-function\xspace}
\newcommand\phifuns{$\phi$-functions\xspace}
\newcommand\psifun{$\psi$-function\xspace}
\newcommand\psifuns{$\psi$-functions\xspace}
\newcommand\phinode{$\phi$-node\xspace}
\newcommand\phinodes{$\phi$-nodes\xspace}
\newcommand\phiuse{$\phi$-use\xspace}
\newcommand\phiuses{$\phi$-uses\xspace}
\newcommand\phidef{definition-operand\xspace}
\newcommand\phiop{$\phi$-operator\xspace}
\newcommand\phiops{$\phi$-operators\xspace}
\newcommand\useop{use-operand\xspace}
\newcommand\useops{use-operands\xspace}
\newcommand\defop{definition-operand\xspace}
\newcommand\sigmafun{$\sigma$-function\xspace}
\newcommand\sigmafuns{$\sigma$-functions\xspace}
\newcommand\chifun{$\chi$-function\xspace}
\newcommand\chifuns{$\chi$-functions\xspace}
\newcommand\mufun{$\mu$-function\xspace}
\newcommand\mufuns{$\mu$-functions\xspace}
\newcommand\gammafun{$\mu$-function\xspace}
\newcommand\gammafuns{$\mu$-functions\xspace}
\newcommand\chiop{$\chi$-operator\xspace}
\newcommand\chiops{$\chi$-operators\xspace}
\newcommand\muop{$\mu$-operator\xspace}
\newcommand\muops{$\mu$-operators\xspace}
\def\gets{\leftarrow}
\def\phiif{\phi_\textit{if}}
\def\phientry{\phi_\textit{entry}}
\def\phiexit{\phi_\textit{exit}}
\def\phiweb{$\phi$-web\xspace}
\def\phiwebs{$\phi$-webs\xspace}
\def\phipsiweb{$\psi$-$\phi$-web\xspace}
\def\phipsiwebs{$\psi$-$\phi$-webs\xspace}
\def\psiweb{$\psi$-web\xspace}
\def\psiwebs{$\psi$-webs\xspace}
\newcommand{\pining}[1]{^{\uparrow #1}}
\def\SP{\textit{SP}}

\newboolean{hab}
\setboolean{hab}{false} % please don't remove. Fab's internal usage

\newcommand\cidom[1]{#1.\textit{idom}}
\newcommand\eanc[1]{#1.\textit{eanc}}
\def\curanc{\textit{cur\_anc}}
\def\curidom{\textit{cur\_idom}}
\def\dominates{\textsf{dominates}}
\def\uncolored{\textsf{uncolored}}
\def\colored{\textsf{colored}}
\def\intersect{\textsf{intersect}}
\def\interfere{\textsf{interfere}}
\def\colors{\textsf{COLORS}}
\def\col{\textsf{color}}
\newcommand{\atomic}[1]{\textsf{atomic-merged-set}(#1)}
\def\curphi{\textit{curphi}}
\def\curpred{\textit{cur\_pred}}

\def\iftt{\texttt{if }}
\def\thentt{\texttt{then }}
\def\elsett{\texttt{else }}
\def\endtt{\texttt{end }}
\def\whilett{\texttt{while }}
%%%


