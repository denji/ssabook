digraph G {
	node [shape=box];

	BB1 [label="br c"];
	BB2 [label="br q"];
	BB3 [label="r1=x"];
	BB4 [label="r2=y"];
	BB5 [label="r=phi(r1,r2"];
	BB1->BB2 [label="c"];
	BB1->BB3 [label="!c"];
	BB2->BB3 [label="!q"];
	BB2->BB4 [label="q"];
	{BB3 BB4}->BB5

	{rank=same; BB3; BB4; rBB2; rBB3}

	rBB1 [label="t=!c or !q\lbr t"];	
	rBB2 [label="r1=x"];
	rBB3 [label="r2=y"];
	rBB4 [label="r=phi(r1,r2)"];

	rBB1->rBB2 [label="t"];
	rBB1->rBB3 [label="!t"];
	{rBB2 rBB3} -> rBB4;

}

